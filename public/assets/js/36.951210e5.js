(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{429:function(t,e,r){"use strict";r.r(e);var a=r(5),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("div",{staticClass:"custom-block tip"},[r("p",[t._v("Vue常用的几种通信传递")])]),t._v(" "),r("h1",{attrs:{id:"vue-communication"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue-communication"}},[t._v("#")]),t._v(" vue-communication")]),t._v(" "),r("p",[t._v("Vue常用的几种通信传递")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/continuous-learning/learning/tree/master/Vue%E7%B3%BB%E5%88%97/vue-communication",target:"_blank",rel:"noopener noreferrer"}},[t._v("Demo"),r("OutboundLink")],1)]),t._v(" "),r("h2",{attrs:{id:"props-emit"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#props-emit"}},[t._v("#")]),t._v(" props / emit")]),t._v(" "),r("p",[t._v("父 -> 子 通过props给子页面传递参数")]),t._v(" "),r("p",[t._v("子 -> 父 通过emit反馈给父页面，父页面通过on拿到子页面反馈的数据")]),t._v(" "),r("h2",{attrs:{id:"vuex"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vuex"}},[t._v("#")]),t._v(" vuex")]),t._v(" "),r("p",[t._v("通过设置state的值，在对应页面通过vuex的getters api拿取相应的值。具体怎么用可以看官方api")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuex"),r("OutboundLink")],1)]),t._v(" "),r("h2",{attrs:{id:"eventbus"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#eventbus"}},[t._v("#")]),t._v(" EventBus")]),t._v(" "),r("p",[t._v("通过new一个Vue实例，调用Vue实例上的"),r("code",[t._v("$emit")]),t._v("、"),r("code",[t._v("$on")]),t._v(" 来实现通信，在一些不是很复杂的项目中，可以用这种方式来替换vuex")]),t._v(" "),r("h2",{attrs:{id:"attrs-listeners"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#attrs-listeners"}},[t._v("#")]),t._v(" $attrs / $listeners")]),t._v(" "),r("p",[t._v("这是"),r("code",[t._v("2.4.0")]),t._v("新增的api，主要用于跨级组件参数的传递，在创建高级别的组件时非常有用。")]),t._v(" "),r("p",[t._v("可以通过设置inheritAttrs（默认为true）来确定子组件要不要接受父组件的attrs值")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/ePUE4g.png",alt:"ePUE4g.png"}})]),t._v(" "),r("h2",{attrs:{id:"provide-inject"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#provide-inject"}},[t._v("#")]),t._v(" provide / inject")]),t._v(" "),r("blockquote",[r("p",[t._v("这对选项需要一起使用，以允许一个祖先组件向其所有子孙后代注入一个依赖，不论组件层次有多深，并在起上下游关系成立的时间里始终生效")])]),t._v(" "),r("p",[r("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#provide-inject",target:"_blank",rel:"noopener noreferrer"}},[t._v("provide-inject"),r("OutboundLink")],1)]),t._v(" "),r("h2",{attrs:{id:"不推荐系列"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#不推荐系列"}},[t._v("#")]),t._v(" 不推荐系列")]),t._v(" "),r("h3",{attrs:{id:"ref-refs"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ref-refs"}},[t._v("#")]),t._v(" ref / refs")]),t._v(" "),r("p",[t._v("通过拿去组件实例来进行参数的传递，不过个人认为可以用props、attrs这种方式替换掉，因为refs不是一个响应式的")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eiFi9J.png",alt:"eiFi9J.png"}})]),t._v(" "),r("h3",{attrs:{id:"children-parent"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#children-parent"}},[t._v("#")]),t._v(" $children / $parent")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eik9qP.png",alt:"eik9qP.png"}})]),t._v(" "),r("p",[r("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#parent",target:"_blank",rel:"noopener noreferrer"}},[t._v("$children / $parent"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"mixins"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#mixins"}},[t._v("#")]),t._v(" mixins")]),t._v(" "),r("p",[t._v("实际上mixin也可以用作数据的通信，但我们并不推荐。")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#mixins",target:"_blank",rel:"noopener noreferrer"}},[t._v("mixins"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"vue-prototype（这里只是举例子，原型的作用并不在于数据传递）"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue-prototype（这里只是举例子，原型的作用并不在于数据传递）"}},[t._v("#")]),t._v(" Vue.prototype（这里只是举例子，原型的作用并不在于数据传递）")]),t._v(" "),r("p",[t._v("通过原型传递数据？当然，这也是可以的，但这看着就像通过window去传递数据一样，用在数据通信完全是没有必要的，就像localStorage这些一样")]),t._v(" "),r("h1",{attrs:{id:"总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),r("p",[t._v("其实进行数据通信的方式有很多，但并不是每一个方式都适合进行数据传递，对于Vue而言我们还是比较推荐props/attrs/vuex这一类")]),t._v(" "),r("p",[t._v("高阶组件之间的通信更推荐attrs/provide")])])}),[],!1,null,null,null);e.default=s.exports}}]);