(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{422:function(t,s,a){"use strict";a.r(s);var n=a(5),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",[t._v("gitalk: 一个基于Github issue 和 Preact开发的评论插件\n"),a("a",{attrs:{href:"https://github.com/gitalk/gitalk",target:"_blank",rel:"noopener noreferrer"}},[t._v("gitalk"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"register-a-new-oauth-application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#register-a-new-oauth-application"}},[t._v("#")]),t._v(" Register a new OAuth application")]),t._v(" "),a("p",[t._v("地址："),a("a",{attrs:{href:"https://github.com/settings/applications/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("Register a new OAuth application"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/01/23/kA7fVP.md.png",alt:"Register a new OAuth application"}}),t._v("]")]),t._v(" "),a("p",[t._v("参数说明：")]),t._v(" "),a("ul",[a("li",[t._v("Application name： 应用名称")]),t._v(" "),a("li",[t._v("Homepage URL：程序主页的完整地址即github仓库  eg："),a("a",{attrs:{href:"https:blacklisten.github.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("https:blacklisten.github.io"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("Application description：网站的描述")]),t._v(" "),a("li",[t._v("Authorization callback URL：网站的callback地址")])]),t._v(" "),a("p",[t._v("完成后页面跳转如下，Client ID 和 Client Secret后面会用到")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/01/23/kA7Rbt.png",alt:"kA7Rbt.png"}})]),t._v(" "),a("h2",{attrs:{id:"gitalk-swig"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitalk-swig"}},[t._v("#")]),t._v(" gitalk.swig")]),t._v(" "),a("p",[t._v("新建/layout/_third-party/comments/gitalk.swig文件，并添加内容：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("comments "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" theme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gitalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("enable "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("link rel"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylesheet"')]),t._v(" href"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://unpkg.com/gitalk/dist/gitalk.css"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://unpkg.com/gitalk/dist/gitalk.min.js"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" gitalk "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Gitalk")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          clientID"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.ClientID }}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          clientSecret"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.ClientSecret }}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          repo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.repo }}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          owner"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.githubID }}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          admin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.adminUser }}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          distractionFreeMode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.distractionFreeMode }}'")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        gitalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gitalk-container'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           \n       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" endif "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("h2",{attrs:{id:"comments-swig"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#comments-swig"}},[t._v("#")]),t._v(" comments.swig")]),t._v(" "),a("p",[t._v("修改/layout/_partials/comments.swig，添加内容如下，与前面的elseif同一级别上：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" elseif theme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gitalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("enable "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gitalk-container"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h2",{attrs:{id:"index-swig"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#index-swig"}},[t._v("#")]),t._v(" index.swig")]),t._v(" "),a("p",[t._v("修改layout/_third-party/comments/index.swig，在最后一行添加内容：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" include "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gitalk.swig'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"gitalk-styl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitalk-styl"}},[t._v("#")]),t._v(" gitalk.styl")]),t._v(" "),a("p",[t._v("新建/source/css/_common/components/third-party/gitalk.styl文件，添加内容：")]),t._v(" "),a("div",{staticClass:"language-styl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-styl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".gt-header a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" .gt-comments a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" .gt-popup a")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property-declaration"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".gt-container .gt-popup .gt-action.is--active:before")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property-declaration"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.7")]),t._v("em"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h2",{attrs:{id:"third-party-styl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#third-party-styl"}},[t._v("#")]),t._v(" third-party.styl")]),t._v(" "),a("p",[t._v("修改/source/css/_common/components/third-party/third-party.styl，在最后一行上添加内容，引入样式：")]),t._v(" "),a("div",{staticClass:"language-styl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-styl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token atrule-declaration"}},[a("span",{pre:!0,attrs:{class:"token atrule"}},[t._v("@import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gitalk"')])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"config-yml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#config-yml"}},[t._v("#")]),t._v(" _config.yml")]),t._v(" "),a("p",[t._v("在主题配置文件next/_config.yml中添加如下内容：")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitalk")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("githubID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" github帐号  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 例：blacklisten")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 仓库名称   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 例：blacklisten.github.io")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ClientID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Client ID\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ClientSecret")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Client Secret\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("adminUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" github帐号 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#指定可初始化评论账户 如 blacklisten")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("distractionFreeMode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("这样gitalk评论插件就添加完成了")]),t._v(" "),a("blockquote",[a("p",[t._v("来源："),a("a",{attrs:{href:"https://asdfv1929.github.io/2018/01/20/gitalk/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://asdfv1929.github.io/2018/01/20/gitalk/"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);